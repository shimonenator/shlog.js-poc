<!DOCTYPE html>
<!-- <html manifest="shlog.appcache"> -->
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Shlog.js</title>
    <script src="//cdnjs.cloudflare.com/ajax/libs/localforage/1.2.1/localforage.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/marked/0.3.2/marked.min.js"></script>
    <script src="libs/fetch.js"></script>
    <script>
    var Shlog = {};
    fetch('/config.json')
        .then(function(response) {
            return response.json();
        }).then(function(json) {
            Shlog.config = json;
        }).catch(function(ex) {
            console.error('Fail: ', ex)
        });

    fetch('/posts.json')
        .then(function(response) {
            return response.json();
        }).then(function(posts) {
            posts.forEach(function(record) {
                console.log(record);
            });
        }).then(function(json) {
            console.log('parsed json', json);
        }).catch(function(ex) {
            console.log('parser error', ex);
        });

    // fetch('_posts/2014-10-14-ieisaswearword.md')
    //     .then(function(response) {
    //         return response.text();
    //     }).then(function(r) {
    //         document.getElementsByTagName('post')[0].innerHTML = marked(r);
    //     });
    </script>
</head>

<body>

    <script>
    // localforage.setItem('my array', "proba", function(err, value) {
    //     console.log(value);
    // });
    </script>

    <h1><img src="assets/shlog.png" alt="Shlog.js"></h1>
    <post></post>
</body>

</html>
